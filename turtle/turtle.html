<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9 Box Grid</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="grid-container" id="grid-container">
        <!-- Grid items will be inserted here by JavaScript -->
    </div>

    <script>
        async function populateTurtleDiagram() {
            try {
                const urlParams = new URLSearchParams(window.location.search);
                const file1 = urlParams.get('on') || 'test'; // Default to 'test.json'
                const fileName = file1 + '.json';

                const response = await fetch(fileName);
                const data = await response.json();

                const container = document.getElementById('grid-container');
                const boxes = [
                    { title: "Inputs", content: data.inputs },
                    { title: "Whom", content: data.whom },
                    { title: "Process", content: data.process },
                    { title: "What", content: data.what },
                    { title: "How", content: data.how },
                    { title: "Outputs", content: data.outputs },
                    { title: "Support", content: data.support },
                    { title: "Results", content: data.results },
                    { title: "Other", content: "Additional content" } // Example additional content
                ];

                boxes.forEach(box => {
                    const item = document.createElement('div');
                    item.className = 'grid-item';

                    if (box.title === "Process") {
                        item.classList.add('primary');
                    } else if (box.title === "Inputs" || box.title === "Outputs") {
                        item.classList.add('secondary');
                    } else {
                        item.classList.add('grey');
                    }

                    const titleDescription = document.createElement('div');
                    titleDescription.className = 'title-description';
                    titleDescription.innerHTML = `<span class="title">${box.title}</span> ..... <span class="description">${box.title} description</span>`;

                    const content = document.createElement('div');
                    content.className = 'content';
                    content.textContent = box.content;

                    item.appendChild(titleDescription);
                    item.appendChild(content);

                    container.appendChild(item);
                });
            } catch (error) {
                console.error('Error fetching or parsing JSON data:', error);
            }
        }

        // Call the function to populate the diagram
        populateTurtleDiagram();
    </script>
</body>
</html>